<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demonstração do Widget iHelp NPS</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f5f5f5;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .demo-container {
            margin-bottom: 3rem;
        }
        
        h1 {
            font-size: 2rem;
            color: #333;
            margin-bottom: 1rem;
        }
        
        h2 {
            font-size: 1.5rem;
            color: #333;
            margin: 2rem 0 1rem;
        }
        
        pre {
            background-color: #f1f1f1;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
        }
        
        code {
            font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
        }
        
        .widget-container {
            margin: 2rem 0;
            padding: 1rem;
            border-radius: 0.75rem;
            background-color: #fff;
        }

        .docs {
            background-color: white;
            padding: 2rem;
            border-radius: 0.75rem;
            margin-top: 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }

        th {
            background-color: #f9fafb;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>Demonstração do Widget iHelp NPS</h1>
        <p>Esta demonstração mostra como implementar o widget iHelp NPS em qualquer site.</p>
        
        <div class="widget-container">
            <div id="nps-widget-demo"></div>
        </div>
        
        <div class="docs">
            <h2>Como Implementar</h2>
            <p>Simplesmente adicione o script ao seu site e inicialize o widget:</p>
            
            <pre><code>&lt;!-- Add the script to your website --&gt;
&lt;script src="path/to/nps-widget.js"&gt;&lt;/script&gt;

&lt;!-- Create a container for the widget --&gt;
&lt;div id="my-nps-widget"&gt;&lt;/div&gt;

&lt;script&gt;
  // Initialize the widget with your configuration
  const npsWidget = iHelpNPS.init({
    targetElementId: 'my-nps-widget', // ID of the container element
    userId: 'user-123', // Your user identifier
    apiUrl: 'https://your-supabase-url.supabase.co/rest/v1/nps_feedback',
    apiKey: 'your-supabase-api-key',
    
    // Optional customization
    title: 'Rate your experience with our product...',
    primaryColor: '#ea5f3d',
    maxRating: 10
  });
&lt;/script&gt;</code></pre>

            <h2>Opções de Configuração</h2>
            <table>
                <thead>
                    <tr>
                        <th>Opção</th>
                        <th>Descrição</th>
                        <th>Padrão</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>targetElementId</code></td>
                        <td>ID do elemento container onde o widget será renderizado</td>
                        <td><code>'ihelp-nps-widget'</code></td>
                    </tr>
                    <tr>
                        <td><code>userId</code></td>
                        <td>Identificador para o usuário que está enviando feedback</td>
                        <td><code>'anonymous'</code></td>
                    </tr>
                    <tr>
                        <td><code>apiUrl</code></td>
                        <td>URL para o endpoint da API para enviar feedback</td>
                        <td>Supabase URL</td>
                    </tr>
                    <tr>
                        <td><code>apiKey</code></td>
                        <td>Chave de API para autenticação</td>
                        <td><code>''</code></td>
                    </tr>
                    <tr>
                        <td><code>title</code></td>
                        <td>Texto da pergunta principal</td>
                        <td><code>'De 0 a 10 o quanto você recomendaria o ihelp para a empresa de um amigo?'</code></td>
                    </tr>
                    <tr>
                        <td><code>feedbackLabel</code></td>
                        <td>Rótulo para a área de texto de feedback</td>
                        <td><code>'Para nos ajudar ainda mais, conte-nos o motivo da sua resposta.'</code></td>
                    </tr>
                    <tr>
                        <td><code>submitButtonText</code></td>
                        <td>Texto para o botão de envio</td>
                        <td><code>'Enviar'</code></td>
                    </tr>
                    <tr>
                        <td><code>thankYouMessage</code></td>
                        <td>Mensagem exibida após o envio</td>
                        <td><code>'Obrigado pelo feedback!'</code></td>
                    </tr>
                    <tr>
                        <td><code>primaryColor</code></td>
                        <td>Cor primária usada para o widget (código hex)</td>
                        <td><code>'#ea5f3d'</code></td>
                    </tr>
                    <tr>
                        <td><code>maxRating</code></td>
                        <td>Valor máximo de avaliação (mostrará botões de 0 até este valor)</td>
                        <td><code>10</code></td>
                    </tr>
                    <tr>
                        <td><code>onSubmit</code></td>
                        <td>Função de callback personalizada quando o usuário envia feedback</td>
                        <td><code>null</code></td>
                    </tr>
                    <tr>
                        <td><code>darkMode</code></td>
                        <td>Ativar estilo de modo escuro</td>
                        <td><code>false</code></td>
                    </tr>
                </tbody>
            </table>

            <h2>Manipulação Personalizada de Dados</h2>
            <p>Você pode fornecer uma função <code>onSubmit</code> personalizada para manipular os dados:</p>
            
            <pre><code>iHelpNPS.init({
  targetElementId: 'my-nps-widget',
  onSubmit: function(data) {
    // dados contêm: user_id, score, feedback, created_at
    console.log('Dados NPS:', data);
    
    // Envie para seu próprio endpoint ou manipule conforme necessário
    return fetch('https://your-api.com/nps', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });
  }
});</code></pre>
        </div>
    </div>

    <!-- Include the NPS widget script -->
    <script src="nps-widget.js"></script>
    
    <!-- Initialize the widget -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const npsWidget = iHelpNPS.init({
                targetElementId: 'nps-widget-demo',
                primaryColor: '#ea5f3d',
                userId: 'demo-user',
                onSubmit: function(data) {
                    console.log('NPS Feedback submitted:', data);
                    return Promise.resolve(); // Mock successful submission
                }
            });
        });
    </script>
</body>
</html>
